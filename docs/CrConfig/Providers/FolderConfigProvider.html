<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.36.1">
<meta name="crystal_docs.project_version" content="2.1.4">
<meta name="crystal_docs.project_name" content="Crystal Config">


    <link rel="canonical" href="https://github.com/tsornson/cr-config/CrConfig/Providers/FolderConfigProvider.html">

<link href="../../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../../js/doc.js"></script>

  <meta name="repository-name" content="Crystal Config">
  <title>CrConfig::Providers::FolderConfigProvider - Crystal Config 2.1.4</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../../index.html">
          Crystal Config
        </a>
      </h1>

      <span class="project-version">
        2.1.4
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="Crystal Config/CrConfig" data-name="crconfig">
      <a href="../../CrConfig.html">CrConfig</a>
      
        <ul>
  
  <li class=" " data-id="Crystal Config/CrConfig/AbstractBuilder" data-name="crconfig::abstractbuilder">
      <a href="../../CrConfig/AbstractBuilder.html">AbstractBuilder</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/AllTypes" data-name="crconfig::alltypes">
      <a href="../../CrConfig/AllTypes.html">AllTypes</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/BuilderMacro" data-name="crconfig::buildermacro">
      <a href="../../CrConfig/BuilderMacro.html">BuilderMacro</a>
      
    </li>
  
  <li class="parent " data-id="Crystal Config/CrConfig/ConfigException" data-name="crconfig::configexception">
      <a href="../../CrConfig/ConfigException.html">ConfigException</a>
      
        <ul>
  
  <li class=" " data-id="Crystal Config/CrConfig/ConfigException/Type" data-name="crconfig::configexception::type">
      <a href="../../CrConfig/ConfigException/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/Macros" data-name="crconfig::macros">
      <a href="../../CrConfig/Macros.html">Macros</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/PrimitiveTypes" data-name="crconfig::primitivetypes">
      <a href="../../CrConfig/PrimitiveTypes.html">PrimitiveTypes</a>
      
    </li>
  
  <li class="parent open current" data-id="Crystal Config/CrConfig/Providers" data-name="crconfig::providers">
      <a href="../../CrConfig/Providers.html">Providers</a>
      
        <ul>
  
  <li class=" " data-id="Crystal Config/CrConfig/Providers/AbstractProvider" data-name="crconfig::providers::abstractprovider">
      <a href="../../CrConfig/Providers/AbstractProvider.html">AbstractProvider</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/Providers/CommandLineParser" data-name="crconfig::providers::commandlineparser">
      <a href="../../CrConfig/Providers/CommandLineParser.html">CommandLineParser</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/Providers/DotenvProvider" data-name="crconfig::providers::dotenvprovider">
      <a href="../../CrConfig/Providers/DotenvProvider.html">DotenvProvider</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/Providers/EnvVarProvider" data-name="crconfig::providers::envvarprovider">
      <a href="../../CrConfig/Providers/EnvVarProvider.html">EnvVarProvider</a>
      
    </li>
  
  <li class=" current" data-id="Crystal Config/CrConfig/Providers/FolderConfigProvider" data-name="crconfig::providers::folderconfigprovider">
      <a href="../../CrConfig/Providers/FolderConfigProvider.html">FolderConfigProvider</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/Providers/JsonProvider" data-name="crconfig::providers::jsonprovider">
      <a href="../../CrConfig/Providers/JsonProvider.html">JsonProvider</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/Providers/ProcProvider" data-name="crconfig::providers::procprovider">
      <a href="../../CrConfig/Providers/ProcProvider.html">ProcProvider</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/Providers/SimpleFileProvider" data-name="crconfig::providers::simplefileprovider">
      <a href="../../CrConfig/Providers/SimpleFileProvider.html">SimpleFileProvider</a>
      
    </li>
  
  <li class=" " data-id="Crystal Config/CrConfig/Providers/YamlProvider" data-name="crconfig::providers::yamlprovider">
      <a href="../../CrConfig/Providers/YamlProvider.html">YamlProvider</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> CrConfig::Providers::FolderConfigProvider

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../../CrConfig/Providers/FolderConfigProvider.html">CrConfig::Providers::FolderConfigProvider</a></li><li class="superclass"><a href="../../CrConfig/Providers/AbstractProvider.html">CrConfig::Providers::AbstractProvider</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>Handles and loads up an entire directory of configuration files</p>

<p>This provider is best used when there is a single "base" configuration file that has all configurations
defined, and then other configuration files can be layered on top of that one, providing overrides based
on the environment the application runs in.</p>

<p>This provider has lots of configuration switches that can be used when loading files from a directory</p>

<pre><code class="language-crystal"><span class="c"># Assume directory `configs` exists and contains `config-base.yaml`, `config-test.yaml`, `config-local.yaml`, and `config-prod.yaml`</span>

<span class="t">CrConfig</span><span class="t">::</span><span class="t">Providers</span><span class="t">::</span><span class="t">FolderConfigProvirer</span>.<span class="k">new</span>
  .folder(<span class="s">&quot;configs&quot;</span>)
  .separator(<span class="s">&quot;-&quot;</span>)
  .base_file(<span class="s">&quot;config.yaml&quot;</span>)
  .profiles <span class="k">do</span>
    <span class="c"># Here is where a list of &quot;profiles&quot; of configurations can be provided.</span>
    <span class="c"># These can be obtained from anywhere that&#39;s appropriate (obviously before</span>
    <span class="c"># configuration has completed being read in), such as an environment variable.</span>
    [<span class="s">&quot;base&quot;</span>, <span class="s">&quot;test&quot;</span>, <span class="s">&quot;prod&quot;</span>]
  <span class="k">end</span></code></pre>

<p>The above provider, when its <code><a href="../../CrConfig/Providers/FolderConfigProvider.html#populate(bob:AbstractBuilder)-instance-method">#populate</a></code> method is called, will read in and load <code>config-base.yaml</code>, <code>config-test.yaml</code>, and <code>config-prod.yaml</code>,
in that order, leaving the production configurations as having the highest precedence. <code>config-local.yaml</code> won't be read, and a file named
<code>config.yaml</code> doesn't need to exist.</p>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/vici37/cr-config/blob/master/src/cr-config/abstract_provider.cr#L246" target="_blank">
        cr-config/abstract_provider.cr
      </a>
    
    <br/>
  









  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#base_file(base_file:String)-instance-method" class="signature"><strong>#base_file</strong>(base_file : String)</a>
        
          <div class="summary"><p>Base name for the configuration files</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#folder(folder_path:String)-instance-method" class="signature"><strong>#folder</strong>(folder_path : String)</a>
        
          <div class="summary"><p>Base folder path to read config files from, relative from where the server is running from</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#populate(bob:AbstractBuilder)-instance-method" class="signature"><strong>#populate</strong>(bob : AbstractBuilder)</a>
        
          <div class="summary"><p>Will read in and and load files, used the <code><a href="../../CrConfig/Providers/SimpleFileProvider.html">SimpleFileProvider</a></code> to perform the actual file reading, configuration files under <code>"#{@filder_path}/#{file_name}"</code>, for every file name constructed from the <code>@base_file</code> and list of <code><a href="../../CrConfig/Providers/FolderConfigProvider.html#profiles(&block:-%3EArray(String))-instance-method">#profiles</a></code> provided.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#profiles(&block:-%3EArray(String))-instance-method" class="signature"><strong>#profiles</strong>(&block :  -> Array(String))</a>
        
          <div class="summary"><p>Block to be run when determining which "profiles" to load</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#separator(profile_separator:String)-instance-method" class="signature"><strong>#separator</strong>(profile_separator : String)</a>
        
          <div class="summary"><p>Seperator to use when constructing the different profile versions of the config file.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    

  <h3>Instance methods inherited from class <code><a href="../../CrConfig/Providers/AbstractProvider.html">CrConfig::Providers::AbstractProvider</a></code></h3>
  
  
    <a href="../../CrConfig/Providers/AbstractProvider.html#populate(bob:AbstractBuilder)-instance-method" class="tooltip">
      <span>populate(bob : AbstractBuilder)</span>
    populate</a>
    
  


    


    


  
    


    


    


  
    


    


    


  
</div>






  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="base_file(base_file:String)-instance-method">
      <div class="signature">
        
        def <strong>base_file</strong>(base_file : String)

        <a class="method-permalink" href="#base_file(base_file:String)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Base name for the configuration files</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/vici37/cr-config/blob/master/src/cr-config/abstract_provider.cr#L260" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="folder(folder_path:String)-instance-method">
      <div class="signature">
        
        def <strong>folder</strong>(folder_path : String)

        <a class="method-permalink" href="#folder(folder_path:String)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Base folder path to read config files from, relative from where the server is running from</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/vici37/cr-config/blob/master/src/cr-config/abstract_provider.cr#L255" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="populate(bob:AbstractBuilder)-instance-method">
      <div class="signature">
        
        def <strong>populate</strong>(bob : <a href="../../CrConfig/AbstractBuilder.html">AbstractBuilder</a>)

        <a class="method-permalink" href="#populate(bob:AbstractBuilder)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Will read in and and load files, used the <code><a href="../../CrConfig/Providers/SimpleFileProvider.html">SimpleFileProvider</a></code> to perform the actual file reading, configuration files under
<code>"#{@filder_path}/#{file_name}"</code>, for every file name constructed from the <code>@base_file</code> and list of <code><a href="../../CrConfig/Providers/FolderConfigProvider.html#profiles(&block:-%3EArray(String))-instance-method">#profiles</a></code> provided.</p>

<p>Given base file name <code>config.json</code>, a list of profiles <code>["prof1"]</code>, and separator of <code>_</code>, this will attempt to load all files
in <code>["config_prof1.json"]</code> under the provided folder_path. The profiles and separator are inserted where the file extension is found in the base file name.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/vici37/cr-config/blob/master/src/cr-config/abstract_provider.cr#L275" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="profiles(&block:->Array(String))-instance-method">
      <div class="signature">
        
        def <strong>profiles</strong>(&block :  -> Array(String))

        <a class="method-permalink" href="#profiles(&block:-%3EArray(String))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Block to be run when determining which "profiles" to load</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/vici37/cr-config/blob/master/src/cr-config/abstract_provider.cr#L265" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="separator(profile_separator:String)-instance-method">
      <div class="signature">
        
        def <strong>separator</strong>(profile_separator : String)

        <a class="method-permalink" href="#separator(profile_separator:String)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Seperator to use when constructing the different profile versions of the config file. See <code><a href="../../CrConfig/Providers/FolderConfigProvider.html#populate(bob:AbstractBuilder)-instance-method">#populate</a></code> for details on file construction</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/vici37/cr-config/blob/master/src/cr-config/abstract_provider.cr#L250" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
